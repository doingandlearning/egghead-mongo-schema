{"ast":null,"code":"import connectToDb from \"../../utils/db\";\nexport default (async (req, res) => {\n  const client = connectToDb();\n  const document = req.body;\n\n  try {\n    const collection = client.collection(\"users\");\n    const r = await db.collection(\"inserts\").insertOne({\n      a: 1,\n      b: function () {\n        return \"hello\";\n      }\n    }, {\n      w: \"majority\",\n      wtimeout: 10000,\n      serializeFunctions: true,\n      forceServerObjectId: true\n    });\n    console.log(response.insertedCount);\n    res.send(response);\n  } catch (error) {\n    res.status(400);\n    res.send(error);\n  }\n});","map":{"version":3,"sources":["/Users/kevin/code/egghead-mongo-schema/pages/api/user.js"],"names":["connectToDb","req","res","client","document","body","collection","r","db","insertOne","a","b","w","wtimeout","serializeFunctions","forceServerObjectId","console","log","response","insertedCount","send","error","status"],"mappings":"AAAA,OAAOA,WAAP,MAAwB,gBAAxB;AAEA,gBAAe,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AACjC,QAAMC,MAAM,GAAGH,WAAW,EAA1B;AACA,QAAMI,QAAQ,GAAGH,GAAG,CAACI,IAArB;;AAEA,MAAI;AACF,UAAMC,UAAU,GAAGH,MAAM,CAACG,UAAP,CAAkB,OAAlB,CAAnB;AACA,UAAMC,CAAC,GAAG,MAAMC,EAAE,CAACF,UAAH,CAAc,SAAd,EAAyBG,SAAzB,CACd;AACEC,MAAAA,CAAC,EAAE,CADL;AAEEC,MAAAA,CAAC,EAAE,YAAY;AACb,eAAO,OAAP;AACD;AAJH,KADc,EAOd;AACEC,MAAAA,CAAC,EAAE,UADL;AAEEC,MAAAA,QAAQ,EAAE,KAFZ;AAGEC,MAAAA,kBAAkB,EAAE,IAHtB;AAIEC,MAAAA,mBAAmB,EAAE;AAJvB,KAPc,CAAhB;AAcAC,IAAAA,OAAO,CAACC,GAAR,CAAYC,QAAQ,CAACC,aAArB;AACAjB,IAAAA,GAAG,CAACkB,IAAJ,CAASF,QAAT;AACD,GAlBD,CAkBE,OAAOG,KAAP,EAAc;AACdnB,IAAAA,GAAG,CAACoB,MAAJ,CAAW,GAAX;AACApB,IAAAA,GAAG,CAACkB,IAAJ,CAASC,KAAT;AACD;AACF,CA1BD","sourcesContent":["import connectToDb from \"../../utils/db\";\n\nexport default async (req, res) => {\n  const client = connectToDb();\n  const document = req.body;\n\n  try {\n    const collection = client.collection(\"users\");\n    const r = await db.collection(\"inserts\").insertOne(\n      {\n        a: 1,\n        b: function () {\n          return \"hello\";\n        },\n      },\n      {\n        w: \"majority\",\n        wtimeout: 10000,\n        serializeFunctions: true,\n        forceServerObjectId: true,\n      }\n    );\n    console.log(response.insertedCount);\n    res.send(response);\n  } catch (error) {\n    res.status(400);\n    res.send(error);\n  }\n};\n"]},"metadata":{},"sourceType":"module"}