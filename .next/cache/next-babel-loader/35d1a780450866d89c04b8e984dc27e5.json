{"ast":null,"code":"import connectToDb from \"../../utils/db\";\nexport default (async (req, res) => {\n  const client = await connectToDb();\n  const document = req.body;\n\n  try {\n    const collection = client.collection(\"users\");\n    console.log(collection);\n    client.collection(\"users\").insertOne({\n      name: \"Kevin\"\n    }, function (err, res) {\n      if (err) throw err;\n      console.log(\"1 document inserted\");\n      client.close();\n      console.log(\"DB Connection closed\");\n    });\n  } catch (error) {\n    res.status(400);\n    res.send(error);\n  }\n});","map":{"version":3,"sources":["/Users/kevin/code/egghead-mongo-schema/pages/api/user.js"],"names":["connectToDb","req","res","client","document","body","collection","console","log","insertOne","name","err","close","error","status","send"],"mappings":"AAAA,OAAOA,WAAP,MAAwB,gBAAxB;AAEA,gBAAe,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AACjC,QAAMC,MAAM,GAAG,MAAMH,WAAW,EAAhC;AACA,QAAMI,QAAQ,GAAGH,GAAG,CAACI,IAArB;;AAEA,MAAI;AACF,UAAMC,UAAU,GAAGH,MAAM,CAACG,UAAP,CAAkB,OAAlB,CAAnB;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYF,UAAZ;AACAH,IAAAA,MAAM,CACHG,UADH,CACc,OADd,EAEGG,SAFH,CAEa;AAAEC,MAAAA,IAAI,EAAE;AAAR,KAFb,EAEgC,UAAUC,GAAV,EAAeT,GAAf,EAAoB;AAChD,UAAIS,GAAJ,EAAS,MAAMA,GAAN;AACTJ,MAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ;AACAL,MAAAA,MAAM,CAACS,KAAP;AACAL,MAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ;AACD,KAPH;AAQD,GAXD,CAWE,OAAOK,KAAP,EAAc;AACdX,IAAAA,GAAG,CAACY,MAAJ,CAAW,GAAX;AACAZ,IAAAA,GAAG,CAACa,IAAJ,CAASF,KAAT;AACD;AACF,CAnBD","sourcesContent":["import connectToDb from \"../../utils/db\";\n\nexport default async (req, res) => {\n  const client = await connectToDb();\n  const document = req.body;\n\n  try {\n    const collection = client.collection(\"users\");\n    console.log(collection);\n    client\n      .collection(\"users\")\n      .insertOne({ name: \"Kevin\" }, function (err, res) {\n        if (err) throw err;\n        console.log(\"1 document inserted\");\n        client.close();\n        console.log(\"DB Connection closed\");\n      });\n  } catch (error) {\n    res.status(400);\n    res.send(error);\n  }\n};\n"]},"metadata":{},"sourceType":"module"}