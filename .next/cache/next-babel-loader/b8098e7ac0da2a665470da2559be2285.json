{"ast":null,"code":"import connectToDb from \"../../utils/db\";\nexport default (async (req, res) => {\n  const client = await connectToDb();\n  const document = req.body;\n\n  try {\n    client.collection(\"users\").find({}, function (err, response) {\n      if (err) throw err;\n      res.send(response);\n      client.close();\n      console.log(\"DB Connection closed\");\n    });\n  } catch (error) {\n    res.status(400);\n    res.send(error);\n  }\n});","map":{"version":3,"sources":["/Users/kevin/code/egghead-mongo-schema/pages/api/user.js"],"names":["connectToDb","req","res","client","document","body","collection","find","err","response","send","close","console","log","error","status"],"mappings":"AAAA,OAAOA,WAAP,MAAwB,gBAAxB;AAEA,gBAAe,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AACjC,QAAMC,MAAM,GAAG,MAAMH,WAAW,EAAhC;AACA,QAAMI,QAAQ,GAAGH,GAAG,CAACI,IAArB;;AAEA,MAAI;AACFF,IAAAA,MAAM,CAACG,UAAP,CAAkB,OAAlB,EAA2BC,IAA3B,CAAgC,EAAhC,EAAoC,UAAUC,GAAV,EAAeC,QAAf,EAAyB;AAC3D,UAAID,GAAJ,EAAS,MAAMA,GAAN;AACTN,MAAAA,GAAG,CAACQ,IAAJ,CAASD,QAAT;AACAN,MAAAA,MAAM,CAACQ,KAAP;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ;AACD,KALD;AAMD,GAPD,CAOE,OAAOC,KAAP,EAAc;AACdZ,IAAAA,GAAG,CAACa,MAAJ,CAAW,GAAX;AACAb,IAAAA,GAAG,CAACQ,IAAJ,CAASI,KAAT;AACD;AACF,CAfD","sourcesContent":["import connectToDb from \"../../utils/db\";\n\nexport default async (req, res) => {\n  const client = await connectToDb();\n  const document = req.body;\n\n  try {\n    client.collection(\"users\").find({}, function (err, response) {\n      if (err) throw err;\n      res.send(response);\n      client.close();\n      console.log(\"DB Connection closed\");\n    });\n  } catch (error) {\n    res.status(400);\n    res.send(error);\n  }\n};\n"]},"metadata":{},"sourceType":"module"}