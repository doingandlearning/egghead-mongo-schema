{"ast":null,"code":"import connectToDb from \"../../utils/db\";\nexport default (async (req, res) => {\n  const client = await connectToDb();\n  const document = req.body;\n\n  try {\n    var myobj = {\n      name: \"Company Inc\",\n      address: \"Highway 37\"\n    };\n    client.collection(\"users\").insertOne(myobj, function (err, res) {\n      if (err) throw err;\n    }); // client.collection(\"users\").find({}, function (err, response) {\n    //   if (err) throw err;\n    //   res.send(response);\n    //   client.close();\n    //   console.log(\"DB Connection closed\");\n    // });\n  } catch (error) {\n    res.status(400);\n    res.send(error);\n  }\n});","map":{"version":3,"sources":["/Users/kevin/code/egghead-mongo-schema/pages/api/user.js"],"names":["connectToDb","req","res","client","document","body","myobj","name","address","collection","insertOne","err","error","status","send"],"mappings":"AAAA,OAAOA,WAAP,MAAwB,gBAAxB;AAEA,gBAAe,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AACjC,QAAMC,MAAM,GAAG,MAAMH,WAAW,EAAhC;AACA,QAAMI,QAAQ,GAAGH,GAAG,CAACI,IAArB;;AAEA,MAAI;AACF,QAAIC,KAAK,GAAG;AAAEC,MAAAA,IAAI,EAAE,aAAR;AAAuBC,MAAAA,OAAO,EAAE;AAAhC,KAAZ;AACAL,IAAAA,MAAM,CAACM,UAAP,CAAkB,OAAlB,EAA2BC,SAA3B,CAAqCJ,KAArC,EAA4C,UAAUK,GAAV,EAAeT,GAAf,EAAoB;AAC9D,UAAIS,GAAJ,EAAS,MAAMA,GAAN;AACV,KAFD,EAFE,CAKF;AACA;AACA;AACA;AACA;AACA;AACD,GAXD,CAWE,OAAOC,KAAP,EAAc;AACdV,IAAAA,GAAG,CAACW,MAAJ,CAAW,GAAX;AACAX,IAAAA,GAAG,CAACY,IAAJ,CAASF,KAAT;AACD;AACF,CAnBD","sourcesContent":["import connectToDb from \"../../utils/db\";\n\nexport default async (req, res) => {\n  const client = await connectToDb();\n  const document = req.body;\n\n  try {\n    var myobj = { name: \"Company Inc\", address: \"Highway 37\" };\n    client.collection(\"users\").insertOne(myobj, function (err, res) {\n      if (err) throw err;\n    });\n    // client.collection(\"users\").find({}, function (err, response) {\n    //   if (err) throw err;\n    //   res.send(response);\n    //   client.close();\n    //   console.log(\"DB Connection closed\");\n    // });\n  } catch (error) {\n    res.status(400);\n    res.send(error);\n  }\n};\n"]},"metadata":{},"sourceType":"module"}