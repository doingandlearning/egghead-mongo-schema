{"ast":null,"code":"import connectToDb from \"../../utils/db\";\nexport default (async (req, res) => {\n  const client = await connectToDb();\n  console.log(client);\n  const document = req.body;\n\n  try {\n    const collection = client.collection(\"users\");\n    console.log(collection);\n    const r = await collection.insertOne({\n      name: \"Kevin\"\n    });\n    const resp = await r.json();\n    res.send(resp);\n  } catch (error) {\n    res.status(400);\n    res.send(error);\n  }\n});","map":{"version":3,"sources":["/Users/kevin/code/egghead-mongo-schema/pages/api/user.js"],"names":["connectToDb","req","res","client","console","log","document","body","collection","r","insertOne","name","resp","json","send","error","status"],"mappings":"AAAA,OAAOA,WAAP,MAAwB,gBAAxB;AAEA,gBAAe,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AACjC,QAAMC,MAAM,GAAG,MAAMH,WAAW,EAAhC;AACAI,EAAAA,OAAO,CAACC,GAAR,CAAYF,MAAZ;AACA,QAAMG,QAAQ,GAAGL,GAAG,CAACM,IAArB;;AAEA,MAAI;AACF,UAAMC,UAAU,GAAGL,MAAM,CAACK,UAAP,CAAkB,OAAlB,CAAnB;AACAJ,IAAAA,OAAO,CAACC,GAAR,CAAYG,UAAZ;AACA,UAAMC,CAAC,GAAG,MAAMD,UAAU,CAACE,SAAX,CAAqB;AACnCC,MAAAA,IAAI,EAAE;AAD6B,KAArB,CAAhB;AAGA,UAAMC,IAAI,GAAG,MAAMH,CAAC,CAACI,IAAF,EAAnB;AACAX,IAAAA,GAAG,CAACY,IAAJ,CAASF,IAAT;AACD,GARD,CAQE,OAAOG,KAAP,EAAc;AACdb,IAAAA,GAAG,CAACc,MAAJ,CAAW,GAAX;AACAd,IAAAA,GAAG,CAACY,IAAJ,CAASC,KAAT;AACD;AACF,CAjBD","sourcesContent":["import connectToDb from \"../../utils/db\";\n\nexport default async (req, res) => {\n  const client = await connectToDb();\n  console.log(client);\n  const document = req.body;\n\n  try {\n    const collection = client.collection(\"users\");\n    console.log(collection);\n    const r = await collection.insertOne({\n      name: \"Kevin\",\n    });\n    const resp = await r.json();\n    res.send(resp);\n  } catch (error) {\n    res.status(400);\n    res.send(error);\n  }\n};\n"]},"metadata":{},"sourceType":"module"}