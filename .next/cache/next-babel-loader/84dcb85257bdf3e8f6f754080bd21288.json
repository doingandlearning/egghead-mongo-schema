{"ast":null,"code":"import connectToDb from \"../../utils/db\";\nexport default (async (req, res) => {\n  const client = connectToDb();\n  const document = req.body;\n\n  try {\n    const collection = client.collection(\"users\");\n    const response = await collection.insert({\n      name: \"Kevin\"\n    });\n    res.send(response);\n  } catch (error) {\n    res.status(400);\n    res.send(error);\n  }\n});","map":{"version":3,"sources":["/Users/kevin/code/egghead-mongo-schema/pages/api/user.js"],"names":["connectToDb","req","res","client","document","body","collection","response","insert","name","send","error","status"],"mappings":"AAAA,OAAOA,WAAP,MAAwB,gBAAxB;AAEA,gBAAe,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AACjC,QAAMC,MAAM,GAAGH,WAAW,EAA1B;AACA,QAAMI,QAAQ,GAAGH,GAAG,CAACI,IAArB;;AAEA,MAAI;AACF,UAAMC,UAAU,GAAGH,MAAM,CAACG,UAAP,CAAkB,OAAlB,CAAnB;AACA,UAAMC,QAAQ,GAAG,MAAMD,UAAU,CAACE,MAAX,CAAkB;AAAEC,MAAAA,IAAI,EAAE;AAAR,KAAlB,CAAvB;AACAP,IAAAA,GAAG,CAACQ,IAAJ,CAASH,QAAT;AACD,GAJD,CAIE,OAAOI,KAAP,EAAc;AACdT,IAAAA,GAAG,CAACU,MAAJ,CAAW,GAAX;AACAV,IAAAA,GAAG,CAACQ,IAAJ,CAASC,KAAT;AACD;AACF,CAZD","sourcesContent":["import connectToDb from \"../../utils/db\";\n\nexport default async (req, res) => {\n  const client = connectToDb();\n  const document = req.body;\n\n  try {\n    const collection = client.collection(\"users\");\n    const response = await collection.insert({ name: \"Kevin\" });\n    res.send(response);\n  } catch (error) {\n    res.status(400);\n    res.send(error);\n  }\n};\n"]},"metadata":{},"sourceType":"module"}